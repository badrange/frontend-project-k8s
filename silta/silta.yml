
# Values in this file override the default values of our helm chart.
#
# See https://github.com/wunderio/charts/blob/master/frontend/values.yaml
# for all possible options.

nginx:
  redirects:
    - description: 'Redirect main path to default service (exact match)'
      from: /
      to: /hello

services:
  hello:
    exposedRoute: '/hello'
    port: 4000
    env:
      FOO: 'BAR'
    postinstall:
      command: |
        echo Postinstall command executed
    postupgrade:
      command: |
        echo Postupgrade command executed
    backup:
      # Extra commands for gathering data to be backed up.
      # Data should be stored at /backups/current
      command: |
        echo "made in hello container" >> /backups/current/hello_file

  world:
    exposedRoute: '/world'
    port: 5000
    replicas: 2
    mounts:
      - files
    cron:
      world-cli:
        command: echo $(date) > /app/files/lastupdate.txt
        schedule: "~ * * * *"
    backup:
      command: |
        echo "made in world container" >> /backups/current/world_file

domainPrefixes: ['fi', 'lv' ]

mounts:
  files:
    enabled: true
    storage: 1G
    mountPath: /app/files
    storageClassName: silta-shared
    csiDriverName: csi-rclone

elasticsearch:
  enabled: true

rabbitmq:
  enabled: true
  rabbitmq:
    password: this-is-not-safe

shell:
  enabled: true

silta-release:
  proxy:
    enabled: true

mariadb:
  enabled: true

backup:
  enabled: true
